Improve provenance tracking for failed quanta and retries.

By storing extra information in the log datasets written during extra
information, we can record caught exceptions, track which other quanta have
already executed in the same process, and keep track of previous attempts to
run the same quantum.
